{"version":3,"sources":["uni-app:///main.js","webpack:///F:/desktop/hospital/pages/order/index.vue?002c","webpack:///F:/desktop/hospital/pages/order/index.vue?c627","webpack:///F:/desktop/hospital/pages/order/index.vue?7684","webpack:///F:/desktop/hospital/pages/order/index.vue?8a9d","uni-app:///pages/order/index.vue","webpack:///F:/desktop/hospital/pages/order/index.vue?1d41"],"names":["createPage","Page","renderjs","component","options","__file","components","uSticky","uSubsection","uTabs","myOrderproduct","uPopup","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","list","length","__map","item","index","$orig","__get_orig","m0","$fomartDate","createtime","m1","$fixed","Number","total_price","freight","m2","addressInfo","money","m3","parseFloat","totalPrice","m4","_isMounted","e0","$event","$refs","popup","close","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,0C,mDACAA,EAAWC,a;;;;2DCHX,6SACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCvBf,8zB;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,8KAITC,YAAa,WACX,OAAO,sMAITC,MAAO,WACL,OAAO,sMAITC,eAAgB,WACd,OAAO,sJAITC,OAAQ,WACN,OAAO,yKAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,KAAKC,OACdR,EAAIS,MAAMT,EAAIO,MAAM,SAASG,EAAMC,GACjC,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIe,YAAYL,EAAKM,YAC1BC,EAAKjB,EAAIkB,OAAOC,OAAOT,EAAKU,aAAeD,OAAOT,EAAKW,UAC3D,MAAO,CACLT,MAAOA,EACPE,GAAIA,EACJG,GAAIA,MAGR,MACAK,EAAKtB,EAAIkB,OAAOlB,EAAIuB,YAAYC,OAChCC,EAAKC,WAAW1B,EAAI2B,YACpBC,EAAKF,WAAW1B,EAAIqB,SAEnBrB,EAAI6B,aACP7B,EAAI8B,GAAK,SAASC,GAChB,OAAO/B,EAAIgC,MAAMC,MAAMC,UAI3BlC,EAAImC,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLnC,GAAIA,EACJkB,GAAIA,EACJG,GAAIA,EACJG,GAAIA,MAKRY,GAAmB,EACnBC,EAAkB,GACtB1C,EAAO2C,eAAgB,G;;;;2DCvFvB,seAAupB,eAAG,G;;;;opCC4F1pB,0BAEA,EACA,EADA,U,EAEA,CACA,KADA,WAEA,OACA,YACA,aACA,YAEA,CACA,YAEA,CACA,aAGA,SACA,UACA,UACA,OACA,CACA,WACA,QACA,CACA,WACA,QACA,CACA,WACA,QACA,CACA,WACA,SAEA,UACA,kBACA,QACA,OACA,MACA,eACA,aACA,WACA,UACA,iBACA,aACA,WAGA,SACA,OADA,SACA,KACA,8BACA,sEACA,aACA,iBACA,yBAEA,SARA,WASA,WACA,SACA,kBACA,QAFA,SAEA,GACA,OACA,oCACA,wBACA,oBACA,aAEA,0CAEA,EACA,EADA,KAEA,UACA,cACA,iBACA,eACA,+BACA,kEACA,sBAEA,kBACA,iBACA,2BACA,yBACA,uBACA,yBACA,uBACA,oBACA,iBACA,iDACA,sCACA,+BACA,gBAGA,iBACA,oBAMA,gBAEA,6BAMA,OA7DA,SA6DA,GACA,8BAGA,SAjEA,SAiEA,KACA,MACA,cACA,uDAMA,UA1EA,SA0EA,cACA,GACA,oCACA,eACA,gBAEA,kDAEA,EACA,EADA,KAEA,UACA,6BAEA,mBAGA,IAEA,YA5FA,SA4FA,GACA,eACA,YACA,aACA,UACA,mBAEA,YAnGA,SAmGA,gBACA,sCACA,OACA,oCACA,YAEA,6CAEA,EACA,EADA,KAEA,WACA,mBACA,oBAEA,uBAMA,YAvHA,SAuHA,gBACA,sCACA,OACA,oCACA,YAEA,gDAEA,EACA,EADA,KAEA,WACA,mBACA,oBAEA,uBAMA,aA3IA,SA2IA,oBACA,WADA,IACA,0CACA,GACA,oCACA,gBACA,oBACA,mBAEA,oDAEA,EACA,EADA,KAEA,WACA,oBACA,WAEA,oBAhBA,8BAoBA,uBACA,aACA,gCAEA,MAEA,eArKA,SAqKA,gBACA,oCACA,OACA,oCACA,YAEA,8CAEA,EACA,EADA,KAEA,WACA,iBACA,oBAEA,uBAKA,WAxLA,WAwLA,WACA,GACA,qCAEA,gDAEA,EACA,EADA,KAEA,YACA,0BAMA,WAvMA,WAuMA,WACA,gDACA,aACA,YAEA,uBAKA,OA9PA,SA8PA,GACA,2BACA,aACA,qBACA,kBACA,mBAGA,cAtQA,WAuQA,YACA,yBAEA,OA1QA,WA0QA,WACA,2BAEA,EACA,oBADA,WAEA,GACA,qBAEA,MAEA,OApRA,WAqRA,qCAEA,SAvRA,WAwRA,sC;;;;2DCxXA,81BAAitC,eAAG,G","file":"pages/order/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca91b30\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"","var components\ntry {\n  components = {\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-sticky/u-sticky\" */ \"@/uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    },\n    uSubsection: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-subsection/u-subsection\" */ \"@/uview-ui/components/u-subsection/u-subsection.vue\"\n      )\n    },\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    myOrderproduct: function() {\n      return import(\n        /* webpackChunkName: \"components/orderproduct/index\" */ \"@/components/orderproduct/index.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.list.length\n    ? _vm.__map(_vm.list, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var m0 = _vm.$fomartDate(item.createtime)\n        var m1 = _vm.$fixed(Number(item.total_price) + Number(item.freight))\n        return {\n          $orig: $orig,\n          m0: m0,\n          m1: m1\n        }\n      })\n    : null\n  var m2 = _vm.$fixed(_vm.addressInfo.money)\n  var m3 = parseFloat(_vm.totalPrice)\n  var m4 = parseFloat(_vm.freight)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$refs.popup.close()\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m2: m2,\n        m3: m3,\n        m4: m4\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"order\">\r\n\t\t<u-sticky>\r\n\t\t\t<view class=\"tab padding-15 white-back\">\r\n\t\t\t\t<u-subsection :list=\"tabListOne\" :current=\"curNow\" inactive-color=\"#999\" active-color=\"#386FF0\"\r\n\t\t\t\t\t@change=\"sectionChange\" mode=\"subsection\"></u-subsection>\r\n\t\t\t\t<u-tabs :list=\"tabList\" :current=\"current\" @change=\"changeFirst\"></u-tabs>\r\n\t\t\t</view>\r\n\t\t</u-sticky>\r\n\r\n\t\t<view class=\"order_info\" style=\"margin-bottom: 30rpx;\">\r\n\t\t\t<view class=\"content\" v-if=\"list.length\">\r\n\t\t\t\t<view v-for=\"(item, index) in list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"top border fs-13\">\r\n\t\t\t\t\t\t<view>{{$fomartDate(item.createtime)}}</view>\r\n\t\t\t\t\t\t<view :class=\"item.order_status==6?'gray_font':(item.order_status==5?'':'red-font')\">\r\n\t\t\t\t\t\t\t{{item.order_status_msg}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"destPage(item,index)\">\r\n\t\t\t\t\t\t<view class=\"flex detail\" v-for=\"(second,sIndex) in item.details\" :key=\"sIndex\">\r\n\t\t\t\t\t\t\t<my-orderproduct></my-orderproduct>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"time\" style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t<text class=\"fs-13\">共计{{item.details.length}}件商品 合计：</text>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tclass=\"red-font bold\">￥{{$fixed(Number(item.total_price)+Number(item.freight))}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order_option\">\r\n\t\t\t\t\t\t<text class=\" cancel_order\" @click=\"orderDetailPage(item,index)\">查看详情</text>\r\n\t\t\t\t\t\t<!-- <text class=\"cancel_order\" @click=\"ckwl\" v-if=\"item.order_status==4\">查看物流</text> -->\r\n\t\t\t\t\t\t<text class=\"another_order\" @click=\"confirmReceipt(item.id,index)\"\r\n\t\t\t\t\t\t\tv-if=\"item.order_status==4\">确认收货</text>\r\n\t\t\t\t\t\t<text class=\"another_order\" v-if=\"item.order_status==1\" @click=\"nowPay(item,index)\">立即支付</text>\r\n\t\t\t\t\t\t<text class=\"cancel_order\" v-if=\"item.order_status==1\"\r\n\t\t\t\t\t\t\t@click=\"cancelOrder(item.id,index)\">取消订单</text>\r\n\t\t\t\t\t\t<block v-if=\"item.order_status==6\">\r\n\t\t\t\t\t\t\t<text class=\"cancel_order\" @click=\"deleteOrder(item.id,index)\">删除订单</text>\r\n\t\t\t\t\t\t\t<text class=\"cancel_order\" @click=\"oneMoreOrder(item)\">再来一单</text>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bitmap\" v-else>\r\n\t\t\t\t<image src=\"../../static/img/no_content.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<view class=\"gray_font\">\r\n\t\t\t\t\t没有订单信息哦~\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view class=\"white_b pay-method \">\r\n\t\t\t\t<view class=\"way flex_left_right\">\r\n\t\t\t\t\t<text class=\"bold\">支付方式</text>\r\n\t\t\t\t\t<text class=\"iconfont iconguanbi\" @click=\"$refs.popup.close()\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<radio-group class=\"radio-pay\" @change=\"payWay\">\r\n\t\t\t\t\t<view class=\"flex_left_right\">\r\n\t\t\t\t\t\t<view class=\"align_center\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont iconweixinzhifu\" style=\"color:#09BB07;\"> </text>\r\n\t\t\t\t\t\t\t<text class=\"bold fs-13\">微信支付</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<radio value=\"wxpay\" checked=\"true\" style=\"transform:scale(0.7)\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"border-color\">\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex_left_right remain-money\">\r\n\t\t\t\t\t\t<view class=\"align_center\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont iconfeiyong\" style=\"color:#FFB92C;\"> </text>\r\n\t\t\t\t\t\t\t<text class=\"bold fs-13\">余额支付</text>\r\n\t\t\t\t\t\t\t<text class=\"fs-11 gray_font\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin-left:4rpx;\">(可用￥{{$fixed(addressInfo.money)}})</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<radio value=\"money\" style=\"transform:scale(0.7)\"\r\n\t\t\t\t\t\t\t:disabled=\"(parseFloat(totalPrice)+parseFloat(freight))>addressInfo.money?true:false\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"border-color\">\r\n\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</radio-group>\r\n\t\t\t\t<view class=\"submit-order\" @click=\"orderPay\">提交</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp().globalData;\r\n\tconst {\r\n\t\timgRemote,\r\n\t} = app;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timgRemote: imgRemote,\r\n\t\t\t\ttabListOne: [{\r\n\t\t\t\t\t\tname: '待发货'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '待付款'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '待评价'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcurNow: 0,\r\n\t\t\t\ttabList: [{\r\n\t\t\t\t\tname: '全部',\r\n\t\t\t\t\tid: ''\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '待付款',\r\n\t\t\t\t\tid: '1'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '待发货',\r\n\t\t\t\t\tid: '2'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '待收货',\r\n\t\t\t\t\tid: '3'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '待评价',\r\n\t\t\t\t\tid: '4'\r\n\t\t\t\t}],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tsearch_default: true,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tid: '',\r\n\t\t\t\taddressInfo: '',\r\n\t\t\t\ttotalPrice: 0,\r\n\t\t\t\tfeeInfo: {},\r\n\t\t\t\tfreight: 0,\r\n\t\t\t\tpay_type: 'wxpay',\r\n\t\t\t\torderInfo: '',\r\n\t\t\t\tindex: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnowPay(item, index) {\r\n\t\t\t\tthis.totalPrice = item.total_price;\r\n\t\t\t\tthis.freight = this.totalPrice > this.feeInfo.over ? 0 : this.feeInfo.freight;\r\n\t\t\t\tthis.index = index;\r\n\t\t\t\tthis.orderInfo = item;\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\torderPay() {\r\n\t\t\t\tlet _ = this;\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\t\t\torder_id: _.orderInfo.id,\r\n\t\t\t\t\t\t\tpay_type: _.pay_type,\r\n\t\t\t\t\t\t\tcode: res.code\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_.$get(_.$api.orderPay, params, (res1) => {\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t} = res1;\r\n\t\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\t\tif (data.data == null) {\r\n\t\t\t\t\t\t\t\t\t_.$Toast('支付成功');\r\n\t\t\t\t\t\t\t\t\t_.getAddress();\r\n\t\t\t\t\t\t\t\t\t_.list[_.index].order_status = 2;\r\n\t\t\t\t\t\t\t\t\t_.list[_.index].order_status_msg = _.list[_.index].order_status_msg\r\n\t\t\t\t\t\t\t\t\t\t.replace('未支付', '已支付');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\t\t\t\ttimeStamp: data.data.timeStamp,\r\n\t\t\t\t\t\t\t\t\t\tnonceStr: data.data.nonceStr,\r\n\t\t\t\t\t\t\t\t\t\tpackage: data.data.package,\r\n\t\t\t\t\t\t\t\t\t\tsignType: data.data.signType,\r\n\t\t\t\t\t\t\t\t\t\tpaySign: data.data.paySign,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t_.$Toast('支付成功');\r\n\t\t\t\t\t\t\t\t\t\t\t_.list[_.index].order_status_msg = _.list[_.index]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.order_status_msg.replace('未支付', '已支付');\r\n\t\t\t\t\t\t\t\t\t\t\t_.list[_.index].order_status = 2;\r\n\t\t\t\t\t\t\t\t\t\t\t_.getAddress();\r\n\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t_.$Toast('支付取消');\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_.$Toast(data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_.$refs.popup.close()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tpayWay(e) {\r\n\t\t\t\tthis.pay_type = e.detail.value;\r\n\t\t\t},\r\n\r\n\t\t\tdestPage(item, index) {\r\n\t\t\t\tif (item == 1) {} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/order/orderdetail?id=' + item.id + '&index=' + index\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t//初始订单请求\r\n\t\t\torderList(id) {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\torder_status: id,\r\n\t\t\t\t\tpage: this.page\r\n\t\t\t\t};\r\n\t\t\t\tthis.$get(this.$api.orderIndex, params, (res) => {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = res;\r\n\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\tthis.list = this.list.concat(data.data);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$Toast(data.msg);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, true)\r\n\t\t\t},\r\n\t\t\tchangeFirst(e) {\r\n\t\t\t\tthis.current = e;\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.id = e;\r\n\t\t\t\tthis.orderList(e);\r\n\t\t\t},\r\n\t\t\tcancelOrder(id, index) {\r\n\t\t\t\tthis.$showModal('确认取消订单?', () => {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\t\torder_id: id\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.$get(this.$api.orderCancel, params, (res) => {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\tthis.$Toast('取消订单成功');\r\n\t\t\t\t\t\t\tthis.list.splice(index, 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$Toast(data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tdeleteOrder(id, index) {\r\n\t\t\t\tthis.$showModal('确认删除订单?', () => {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\t\torder_id: id\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.$get(this.$api.orderDel_order, params, (res) => {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\tthis.$Toast('删除订单成功');\r\n\t\t\t\t\t\t\tthis.list.splice(index, 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$Toast(data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\toneMoreOrder(item) {\r\n\t\t\t\tfor (let i of item.details) {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\t\tsku_id: i.sku_id,\r\n\t\t\t\t\t\tgoods_id: i.goods_id,\r\n\t\t\t\t\t\tbuy_num: i.buy_num\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$get(this.$api.cartAdd_cart, params, (res) => {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\tthis.$Toast('加入购物车成功');\r\n\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$Toast(data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: \"/pages/tabar/shopcart\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\tconfirmReceipt(id, index) {\r\n\t\t\t\tthis.$showModal('确认收货?', () => {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('userToken'),\r\n\t\t\t\t\t\torder_id: id\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.$get(this.$api.orderReceipt, params, (res) => {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\t\tthis.$Toast('收货成功');\r\n\t\t\t\t\t\t\tthis.list.splice(index, 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$Toast(data.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetAddress() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\ttoken: uni.getStorageSync('userToken')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$get(this.$api.userInfo, params, (res) => {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = res;\r\n\t\t\t\t\tif (data.code == 1) {\r\n\t\t\t\t\t\tthis.addressInfo = data.data;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 邮费\r\n\t\t\tgetFreight() {\r\n\t\t\t\tthis.$get(this.$api.mainFreight, {}, (res) => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.code == 1) {\r\n\r\n\t\t\t\t\t\tthis.feeInfo = data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.activeTab = e.id ? e.id : 0;\r\n\t\t\tthis.id = e.id;\r\n\t\t\tthis.orderList(e.id);\r\n\t\t\tthis.getAddress();\r\n\t\t\tthis.getFreight()\r\n\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.page++;\r\n\t\t\tthis.orderList(this.id);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet {\r\n\t\t\t\t\torderIndex\r\n\t\t\t\t} = getApp().globalData;\r\n\t\t\t\tif (orderIndex) {\r\n\t\t\t\t\tthis.list.splice(orderIndex, 1)\r\n\t\t\t\t}\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tgetApp().globalData.orderIndex = null;\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tgetApp().globalData.orderIndex = null;\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.tab /deep/ .u-tab-bar {\r\n\t\tbottom: -6rpx;\r\n\t}\r\n\r\n\t.order .pay-method {\r\n\t\tpadding: 0 20rpx 30rpx;\r\n\r\n\t\t.way {\r\n\t\t\theight: 80rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t}\r\n\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 50rpx;\r\n\t\t}\r\n\r\n\t\t.submit-order {\r\n\t\t\tbackground: #009943;\r\n\t\t\twidth: 200rpx;\r\n\t\t\tcolor: white;\r\n\t\t\ttext-align: center;\r\n\t\t\theight: 60rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tline-height: 60rpx;\r\n\t\t\tmargin: 0 auto;\r\n\t\t}\r\n\t}\r\n\r\n\t.order .select_account {\r\n\t\tborder-bottom: 1px solid #efefef;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\theight: 65rpx;\r\n\t\tpadding-right: 18rpx;\r\n\t}\r\n\r\n\t.order .select_account text {\r\n\t\tcolor: grey;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\r\n\t.order .order_option {\r\n\t\tborder-top: 1px solid #efefef;\r\n\t\theight: 96rpx;\r\n\t\tline-height: 96rpx;\r\n\t\ttext-align: right;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\r\n\t.order .order_option text {\r\n\t\tborder-radius: 23rpx;\r\n\t\twidth: 140rpx;\r\n\t\tdisplay: inline-block;\r\n\t\theight: 46rpx;\r\n\t\tline-height: 46rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.order .another_order {\r\n\t\tbackground: white;\r\n\t\tcolor: #FF3333;\r\n\t\tborder: 1px solid #F33;\r\n\t}\r\n\r\n\t.order .look_logist {\r\n\t\tbackground: rgb(2, 177, 228);\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.order .cancel_order {\r\n\t\tbackground: white;\r\n\t\tcolor: #333;\r\n\t\tborder: 1px solid #333;\r\n\t}\r\n\r\n\t.confirm_good {\r\n\t\tbackground: red;\r\n\t\tcolor: white;\r\n\t\t// border: 1px solid red;\r\n\t}\r\n\r\n\t.order .order_img {\r\n\t\twidth: 208rpx;\r\n\t\theight: 208rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.time {\r\n\t\tpadding: 0 30rpx 28rpx;\r\n\r\n\t}\r\n\r\n\t.order .order_info .content>view {\r\n\t\tbackground: white;\r\n\t\tmargin: 30rpx 30rpx 0;\r\n\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.order .order_info .content .top {\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.order .order_info .content .detail {\r\n\t\tpadding: 20rpx 20rpx 0;\r\n\t\t// border-top: 1px solid #efefef;\r\n\t}\r\n\r\n\t.order .order_statu .mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 999;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, .5);\r\n\t}\r\n\r\n\t.order .order_statu .operate {\r\n\t\tmargin-top: 10rpx;\r\n\t\tpadding: 2px 0 0;\r\n\t\tz-index: 9999;\r\n\t\tborder-radius: 2px;\r\n\t\tposition: fixed;\r\n\t\tright: 20rpx;\r\n\t\tcolor: #1ea55a;\r\n\t\tbackground: #fff;\r\n\t\twidth: 25%;\r\n\t}\r\n\r\n\t.order .order_statu .operate>view {\r\n\t\theight: 64rpx;\r\n\t\tline-height: 64rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.order .order_statu .operate .all_order {\r\n\t\tborder-bottom: 1px solid #efefef;\r\n\t}\r\n\r\n\r\n\r\n\t.order .bitmap {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.order .bitmap image {\r\n\t\twidth: 70%;\r\n\t\theight: 500rpx;\r\n\t\tmargin: 200rpx 0 0;\r\n\t}\r\n\r\n\t.order .order_oneline {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\google\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&lang=scss&scoped=true&\""],"sourceRoot":""}